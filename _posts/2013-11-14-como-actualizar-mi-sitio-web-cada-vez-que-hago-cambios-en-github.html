---
layout: post
status: publish
published: true
title: "¿Cómo actualizar mi sitio web cada vez que hago cambios en GitHub?"
author:
  display_name: Ariel Orozco
  login: ariel
  email: bassplayer85@gmail.com
  url: ''
author_login: ariel
author_email: bassplayer85@gmail.com
wordpress_id: 140
wordpress_url: http://arielorozco.com/?p=140
date: '2013-11-14 18:42:08 -0600'
date_gmt: '2013-11-15 00:42:08 -0600'
categories:
- git
- github
tags: []
comments:
- id: 84
  author: Eduardo Ortega
  author_email: ortegon000@hotmail.com
  author_url: ''
  date: '2014-03-20 17:24:51 -0600'
  date_gmt: '2014-03-20 23:24:51 -0600'
  content: "Hola que tal, acabo de probar esta forma, soy totalmente nuevo en github\r\nme
    manda un error 500 y no hace las actualizaciones, segun yo, tengo bien los permisos
    de la carpeta"
- id: 85
  author: Ariel Orozco
  author_email: bassplayer85@gmail.com
  author_url: ''
  date: '2014-03-20 17:47:41 -0600'
  date_gmt: '2014-03-20 23:47:41 -0600'
  content: Seguiste todos los pasos? Que te despliega cuando vas a update-server.php
    en tu servidor web?
- id: 86
  author: Eduardo Ortega
  author_email: ortegon000@hotmail.com
  author_url: ''
  date: '2014-03-20 18:47:55 -0600'
  date_gmt: '2014-03-21 00:47:55 -0600'
  content: "abre la pagina en blanco, por lo cual creo que si la carga, no me manda
    error, tengo que aclarar que es un servicio de hosting de los mas comunes, eso
    afecta el proceso?\r\nlos pasos que segui fueron.\r\n-Descargar web.hooks\r\n-Meterlos
    a la carpeta public-html de mi host\r\n-dar de alta en github config- webhooks
    url\r\ny ahi es donde me tira el error 500\r\nGracias y Saludos"
- id: 99
  author: Victor
  author_email: victor@castrocontreras.com
  author_url: http://www.castrocontreras.com
  date: '2014-06-29 15:46:31 -0600'
  date_gmt: '2014-06-29 21:46:31 -0600'
  content: "Me muestra un error como este:\r\nFatal error: Uncaught exception 'UnexpectedValueException'
    with message 'The stream or file \"logs&#47;.log\" could not be opened: failed
    to open stream\r\n\r\n\r\nhttp:&#47;&#47;castrocontreras.com&#47;zophy&#47;web-hooks&#47;update-server.php"
- id: 100
  author: Ariel Orozco
  author_email: bassplayer85@gmail.com
  author_url: ''
  date: '2014-06-30 09:29:52 -0600'
  date_gmt: '2014-06-30 15:29:52 -0600'
  content: Lo mas probable es que tengas problemas con los permisos de las carpetas.
    Lo que debes hacer es darle permisos de escritura a la carpeta logs en tu servidor.
    Por medio de la consola puedes hacerlo con chmod 777 -R logs&#47; , o tambien
    por usando alguna herramienta de tu hosting.
- id: 446
  author: Emmanuel
  author_email: sanchezz985@gmail.com
  author_url: ''
  date: '2015-05-01 17:25:04 -0600'
  date_gmt: '2015-05-01 23:25:04 -0600'
  content: Tengo el mismo problema, saben a que se debe ? ... configure todo tal cual
    lo mencionan pero tambi&eacute;n me da el error 500
- id: 451
  author: Ariel Orozco
  author_email: bassplayer85@gmail.com
  author_url: ''
  date: '2015-05-04 07:20:47 -0600'
  date_gmt: '2015-05-04 13:20:47 -0600'
  content: Aveces da problema el .htaccess, &iquest;tienes uno en tu directorio raiz?
- id: 453
  author: Yuri
  author_email: yurilazo42@gmail.com
  author_url: ''
  date: '2015-05-05 12:37:28 -0600'
  date_gmt: '2015-05-05 18:37:28 -0600'
  content: lo logico es q de error, no entiendo como puede obtener permisos para modificar
    archivos en tu servidor si no le das ni usuario ni clave para entrar en el mismo
- id: 455
  author: Ariel Orozco
  author_email: bassplayer85@gmail.com
  author_url: ''
  date: '2015-05-05 15:21:33 -0600'
  date_gmt: '2015-05-05 21:21:33 -0600'
  content: Otra raz&oacute;n puede ser que el servidor en donde esta tu proyecto tenga
    bloqueado el shell_exec de PHP. Esto suele suceder, y el script va a fallar porque
    necesita que esto se encuentre habilitado.
---
<p><a href="http:&#47;&#47;arielorozco.com&#47;wp-content&#47;uploads&#47;2013&#47;11&#47;forktocat.jpg"><img class="alignleft size-medium wp-image-144" src="http:&#47;&#47;arielorozco.com&#47;wp-content&#47;uploads&#47;2013&#47;11&#47;forktocat-300x176.jpg" alt="forktocat" width="300" height="176" &#47;><&#47;a>Es muy probable que alguna vez nos hallamos preguntado esto. Ser&iacute;a genial si cada vez que actualizo los cambios en mi repositorio, estos se "subieran" de manera autom&aacute;tica a mi servidor web. Tal vez muchos est&eacute;n haciendo esto de manera manual, actualizando tu repositorio y despu&eacute;s subiendo tus archivos al servidor por FTP. Algunas desventajas de esto es que puedes perder el control de versiones, ya que al ser un proceso manual, es posible que no todos los cambios se vean reflejados en el sitio web, y termines con distintas versiones de archivos mezclados.</p>
<p><a href="https:&#47;&#47;github.com&#47;" target="_blank">GitHub<&#47;a> permite ejecutar ciertos scripts despu&eacute;s que realizas push a tu repositorio, estos son los llamados <a href="https:&#47;&#47;help.github.com&#47;articles&#47;post-receive-hooks" target="_blank">Post-Receive Hooks<&#47;a>, y es lo que vamos a utilizar para automatizar todo este proceso.</p>
<p>Estos son los pasos que necesitas realizar:</p>
<ol>
<li>Clonar el repositorio con los <a href="https:&#47;&#47;github.com&#47;arielcr&#47;web-hooks" target="_blank">WebHooks<&#47;a>
<p>[code]git clone https:&#47;&#47;github.com&#47;arielcr&#47;web-hooks.git[&#47;code]</p>
<p><&#47;li></p>
<li>Subir la carpeta <strong>web-hooks<&#47;strong> a la raiz de tu servidor web.<&#47;li>
<li>Te vas a tu repositorio en tu cuenta de GitHub, a <strong>Settings -> Service Hooks -> WebHooks URLs<&#47;strong><&#47;li>
<li>Una vez ahi copias la direcci&oacute;n con la ruta al archivo <em>update-server.php&nbsp;<&#47;em>(ej: http:&#47;&#47;tusitio.com&#47;web-hooks&#47;update-server.php)<&#47;li>
<li>Presionas <span style="text-decoration: underline;">Update Settings<&#47;span><&#47;li><br />
<&#47;ol><br />
Ahora, cada vez que hagas cambios en tu repositorio y los actualizes en GitHub, estos se van a ver reflejados de manera autom&aacute;tica en tu servidor web. Este proceso va a crear una carpeta con el nombre de tu repositorio en la raiz del servidor web. Adem&aacute;s, en la carpeta <strong>logs<&#47;strong> va a quedar un registro con todos los commits por cada repositorio que utilize este <a href="https:&#47;&#47;github.com&#47;arielcr&#47;web-hooks" target="_blank">WebHook<&#47;a>.</p>
<p>Si te preguntas como funciona todo esto, lo que en realidad hace el WebHook&nbsp;<em>update-server.php<&#47;em>&nbsp;es que cada vez que actualizas el repositorio en GitHub, este comprueba que el repositorio no exista en tu servidor, si ya existe solamente lo actualiza y sino, lo clona en la carpeta con el mismo nombre.</p>
<p>Tratar&eacute; de agregar m&aacute;s hooks &uacute;tiles a este repositorio para que tambi&eacute;n los puedan utilizar de la misma manera.</p>
